<div class="app-container d-flex">
  <!-- Sidebar -->
  <!-- NÃºt má»Ÿ sidebar cho mobile -->
  <!-- NÃºt má»Ÿ sidebar chá»‰ hiá»‡n trÃªn mobile -->
  <button class="sidebar-toggle d-md-none" (click)="toggleSidebar()" style="margin-top: 50px">
    â˜°
  </button>

  <!-- Sidebar -->
  <div class="sidebar" [class.sidebar-mobile-visible]="isSidebarVisible">
    <div class="logo">â˜• CoffeeSoft</div>
    <ul class="menu">
      <li routerLink="./admin">Há»‡ thá»‘ng</li>
      <li routerLink="/admin">DashBoard</li>
      <li routerLink="/users">NhÃ¢n ViÃªn</li>
      <li class="active" routerLink="/store">Cá»­a hÃ ng</li>
      <li routerLink="/table">BÃ n</li>
      <li routerLink="/discount">Thá»±c ÄÆ¡n</li>
      <li routerLink="/noibo">Ná»™i Bá»™</li>
      <li routerLink="/order">Äáº·t vÃ  Thanh ToÃ¡n</li>
      <li routerLink="/report">BÃ¡o cÃ¡o</li>
    </ul>
  </div>



  <!-- Main content -->
  <div class="main-content mt-5 " style="margin-top: 40px">
    <!-- NÃºt chá»©c nÄƒng -->
    <ion-button (click)="addStore()" color="primary">â• ThÃªm cá»­a hÃ ng</ion-button>
    <ion-content class="ion-padding">
      <h2 class="ion-text-center ion-margin-top">ğŸ“ Danh sÃ¡ch Cá»­a HÃ ng</h2>

      <!-- Tráº¡ng thÃ¡i Ä‘ang táº£i -->
      <div *ngIf="isLoading" class="text-center ion-margin-top">
        <ion-spinner name="crescent" color="primary"></ion-spinner>
        <p>Äang táº£i dá»¯ liá»‡u...</p>
      </div>

      <!-- Lá»—i khi táº£i -->
      <div *ngIf="errorMessage" class="error-message ion-text-center ion-padding">
        <ion-icon name="alert-circle-outline" color="danger"></ion-icon>
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Báº£ng danh sÃ¡ch cá»­a hÃ ng -->
      <div *ngIf="!isLoading && !errorMessage && stores.length > 0" class="table-wrapper ion-padding">
        <table class="store-table">
          <thead>
          <tr>
            <th>TÃªn cá»­a hÃ ng</th>
            <th>Äá»‹a chá»‰</th>
            <th>SÄT</th>
            <th>NgÆ°á»i quáº£n lÃ½</th>
            <th>TÃªn Ä‘áº§y Ä‘á»§</th>
            <th>Thao tÃ¡c</th> <!-- thÃªm cá»™t -->
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of paginatedStores">
            <td>{{ item.name }}</td>
            <td>{{ item.address }}</td>
            <td>{{ item.phoneNumber }}</td>
            <td>{{ item.manager?.email || 'KhÃ´ng cÃ³' }}</td>
            <td>{{ item.manager?.fullname || 'KhÃ´ng cÃ³' }}</td>
            <td>
              <ion-button size="small" color="warning" (click)="editStore(item)">âœï¸</ion-button>
              <ion-button size="small" color="danger" (click)="deleteStore(item)">ğŸ—‘ï¸</ion-button>
            </td>
          </tr>
          </tbody>
        </table>

      </div>

      <!-- KhÃ´ng cÃ³ dá»¯ liá»‡u -->
      <p *ngIf="!isLoading && !errorMessage && stores.length === 0" class="ion-text-center ion-margin-top">
        KhÃ´ng cÃ³ cá»­a hÃ ng nÃ o.
      </p>
    </ion-content>

        <!-- Pagination -->
    <ion-footer class="ion-text-center ion-padding" style="--background: transparent;">
      <ion-button fill="clear" size="small" color="medium" (click)="firstPage()" [disabled]="currentPage === 1">â®ï¸</ion-button>
      <ion-button fill="clear" size="small" color="medium" (click)="prevPage()" [disabled]="currentPage === 1">â—€ï¸</ion-button>

      Trang <strong>{{ currentPage }}</strong> / {{ totalPages }}

      <ion-button fill="clear" size="small" color="medium" (click)="nextPage()" [disabled]="currentPage === totalPages">â–¶ï¸</ion-button>
      <ion-button fill="clear" size="small" color="medium" (click)="lastPage()" [disabled]="currentPage === totalPages">â­ï¸</ion-button>
    </ion-footer>
</div>
</div>
